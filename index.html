<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Multimedia Reminder</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">

        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <i class="fas fa-layer-group"></i>
                <span data-i18n="app_name">RemindMe</span>
            </div>
            <button id="settings-btn" class="text-btn" data-i18n="manage">Manage</button>
        </header>

        <!-- Main Content: Reminder List -->
        <main id="home-view" class="view active">
            <div class="greeting">
                <h1 id="greeting-text" data-i18n="greeting">Hello, User</h1>
                <p data-i18n="upcoming_reminders">You have <span id="reminder-count">0</span> upcoming reminders.</p>
            </div>

            <div id="reminder-list" class="reminder-list">
                <!-- Reminders injected here -->
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h3 data-i18n="no_reminders_title">No Reminders Yet</h3>
                    <p data-i18n="no_reminders_desc">Tap the + button to create your first multimedia reminder.</p>
                </div>
            </div>
        </main>

        <!-- FAB -->
        <button id="fab-add" class="fab">
            <i class="fas fa-plus"></i>
        </button>

        <!-- Delete Action (Hidden by default via CSS) -->
        <button id="delete-selected-btn" class="fab danger">
            <i class="fas fa-trash"></i>
        </button>

        <!-- Add Reminder Modal -->
        <div id="add-view" class="view modal">
            <div class="modal-header">
                <button id="close-add-btn" class="text-btn" data-i18n="cancel">Cancel</button>
                <h2 data-i18n="new_reminder">New Reminder</h2>
                <button id="save-btn" class="text-btn primary" data-i18n="save">Save</button>
            </div>

            <div class="modal-body">
                <!-- Date & Time -->
                <div class="section">
                    <label data-i18n="when">When?</label>
                    <input type="datetime-local" id="reminder-time">
                </div>

                <!-- Content Type Tabs -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="voice">
                        <i class="fas fa-microphone"></i> <span data-i18n="tab_voice">Voice</span>
                    </button>
                    <button class="tab-btn" data-tab="text">
                        <i class="fas fa-align-left"></i> <span data-i18n="tab_text">Text</span>
                    </button>
                    <button class="tab-btn" data-tab="doodle">
                        <i class="fas fa-paint-brush"></i> <span data-i18n="tab_doodle">Doodle</span>
                    </button>
                </div>

                <!-- Tab Contents -->
                <div class="tab-content">
                    <!-- Voice -->
                    <div id="tab-voice" class="tab-pane active">
                        <div class="recorder-container">
                            <canvas id="audio-visualizer"></canvas>
                            <div class="recorder-controls">
                                <button id="record-toggle" class="record-btn">
                                    <i class="fas fa-microphone"></i>
                                </button>
                            </div>
                            <p id="record-status" data-i18n="tap_to_record">Tap to Record</p>
                            <audio id="audio-preview" controls hidden></audio>
                            <button id="delete-audio" class="icon-btn danger" hidden><i
                                    class="fas fa-trash"></i></button>
                        </div>
                    </div>

                    <!-- Text -->
                    <div id="tab-text" class="tab-pane">
                        <textarea id="reminder-text" placeholder="Type your note here..."
                            data-i18n="placeholder_text"></textarea>
                    </div>

                    <!-- Doodle -->
                    <div id="tab-doodle" class="tab-pane">
                        <div class="canvas-wrapper">
                            <canvas id="doodle-canvas"></canvas>
                        </div>
                        <div class="canvas-toolbar">
                            <div class="colors">
                                <button class="color-btn active" style="--c: #000000" data-color="#000000"></button>
                                <button class="color-btn" style="--c: #FF3B30" data-color="#FF3B30"></button>
                                <button class="color-btn" style="--c: #007AFF" data-color="#007AFF"></button>
                                <button class="color-btn" style="--c: #34C759" data-color="#34C759"></button>
                            </div>
                            <button id="clear-canvas" class="icon-btn"><i class="fas fa-eraser"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div class="section settings-group">
                    <div class="setting-row">
                        <div class="setting-label">
                            <i class="fab fa-google"></i>
                            <span data-i18n="sync_gcal">Sync to Google Calendar</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="sync-gcal">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Full Screen Alert -->
        <div id="alert-view" class="view overlay">
            <div class="alert-container">
                <div class="alert-header">
                    <i class="fas fa-bell"></i>
                    <h2 id="alert-title" data-i18n="alert_title">Reminder</h2>
                    <p id="alert-time" data-i18n="now">Now</p>
                </div>

                <div id="alert-content-area" class="alert-content">
                    <!-- Dynamic Content -->
                </div>

                <div class="alert-footer">
                    <button id="snooze-btn" class="btn secondary" data-i18n="snooze">Snooze 5m</button>
                    <button id="dismiss-btn" class="btn primary" data-i18n="complete">Complete</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/store.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/recorder.js"></script>
    <script src="js/canvas.js"></script>
    <script src="js/app.js"></script>
</body>

</html>